<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aura | Edit Profile Edition</title>
    <style>
        :root {
            --aura-main: linear-gradient(135deg, #8A2BE2, #00D4FF);
            --bg: #050505;
            --glass: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.15);
        }

        body {
            margin: 0; background: var(--bg); color: white;
            font-family: 'Segoe UI', sans-serif; overflow: hidden;
        }

        /* --- NAVEGACI√ìN Y VISTAS (Igual que antes) --- */
        #main-app { height: 100vh; display: flex; flex-direction: column; }
        header { padding: 15px 25px; border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); }
        .view { flex: 1; overflow-y: auto; padding: 20px; display: none; padding-bottom: 100px; }
        .view.active { display: block; }

        /* --- PERFIL --- */
        .profile-container { text-align: center; }
        .p-avatar { 
            width: 100px; height: 100px; border-radius: 50%; 
            background: var(--aura-main); margin: 0 auto 15px; padding: 3px;
        }
        .p-avatar img { width: 100%; height: 100%; border-radius: 50%; border: 3px solid var(--bg); object-fit: cover; }
        
        .btn-edit {
            background: transparent; border: 1px solid var(--gold); 
            color: white; padding: 8px 25px; border-radius: 20px; 
            cursor: pointer; border-color: #00D4FF; font-weight: bold;
        }

        /* --- VENTANA MODAL EDICI√ìN (NUEVO) --- */
        #edit-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); backdrop-filter: blur(15px);
            z-index: 3000; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px; box-sizing: border-box;
        }

        .edit-card {
            background: var(--glass); border: 1px solid var(--border);
            padding: 30px; border-radius: 25px; width: 100%; max-width: 400px;
        }

        .input-group { margin-bottom: 20px; text-align: left; }
        .input-group label { display: block; font-size: 0.8rem; opacity: 0.5; margin-bottom: 5px; }
        .input-group input, .input-group textarea {
            width: 100%; background: rgba(255,255,255,0.05); border: 1px solid var(--border);
            color: white; padding: 12px; border-radius: 10px; outline: none; box-sizing: border-box;
        }

        /* --- NAV INFERIOR --- */
        nav { position: fixed; bottom: 0; width: 100%; height: 75px; background: rgba(0,0,0,0.95); border-top: 1px solid var(--border); display: flex; justify-content: space-around; align-items: center; }
        .nav-btn { font-size: 1.5rem; cursor: pointer; opacity: 0.5; }
        .nav-btn.active { opacity: 1; color: #00D4FF; }
    </style>
</head>
<body>

    <div id="main-app">
        <header><div style="font-weight: 900; letter-spacing: 2px;">AURA</div></header>

        <div id="home-view" class="view">
            <div style="background: var(--glass); padding: 20px; border-radius: 20px;">
                <p>Tu feed principal aparecer√° aqu√≠.</p>
            </div>
        </div>

        <div id="profile-view" class="view active">
            <div class="profile-container">
                <div class="p-avatar">
                    <img id="display-img" src="https://i.pravatar.cc/150?u=Moises">
                </div>
                <h2 id="display-name">Moises</h2>
                <p id="display-bio" style="opacity: 0.6;">Explorador de Auras | Creativo</p>
                
                <button class="btn-edit" onclick="openEditModal()">EDITAR PERFIL</button>
            </div>
        </div>

        <nav>
            <div class="nav-btn" onclick="switchTab('home-view', this)">üè†</div>
            <div class="nav-btn">üîç</div>
            <div class="nav-btn" style="background:var(--aura-main); width:45px; height:45px; border-radius:50%; display:flex; align-items:center; justify-content:center; color:white; opacity:1;">+</div>
            <div class="nav-btn">üí¨</div>
            <div class="nav-btn active" onclick="switchTab('profile-view', this)">üë§</div>
        </nav>
    </div>

    <div id="edit-modal">
        <div class="edit-card">
            <h3 style="margin-top:0">Configurar Perfil</h3>
            
            <div class="input-group">
                <label>Foto de Perfil</label>
                <input type="file" id="edit-file" accept="image/*" onchange="previewImage(event)">
            </div>

            <div class="input-group">
                <label>Nombre P√∫blico</label>
                <input type="text" id="edit-name" placeholder="Tu nombre...">
            </div>

            <div class="input-group">
                <label>Biograf√≠a (Vibe)</label>
                <textarea id="edit-bio" rows="3" placeholder="Cu√©ntanos sobre tu energ√≠a..."></textarea>
            </div>

            <div style="display:flex; gap:10px;">
                <button onclick="saveProfile()" style="flex:2; background:var(--aura-main); border:none; padding:12px; border-radius:10px; color:white; font-weight:bold; cursor:pointer;">GUARDAR</button>
                <button onclick="closeEditModal()" style="flex:1; background:transparent; border:1px solid #ff4444; color:#ff4444; border-radius:10px; cursor:pointer;">X</button>
            </div>
        </div>
    </div>

    <script>
        // Cambiar entre pesta√±as
        function switchTab(tabId, btn) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            btn.classList.add('active');
        }

        // Abrir Modal de Edici√≥n
        function openEditModal() {
            document.getElementById('edit-name').value = document.getElementById('display-name').innerText;
            document.getElementById('edit-bio').value = document.getElementById('display-bio').innerText;
            document.getElementById('edit-modal').style.display = 'flex';
        }

        function closeEditModal() {
            document.getElementById('edit-modal').style.display = 'none';
        }

        // Previsualizar imagen seleccionada
        let tempImgData = null;
        function previewImage(event) {
            const reader = new FileReader();
            reader.onload = function(){
                tempImgData = reader.result;
            };
            reader.readAsDataURL(event.target.files[0]);
        }

        // Guardar cambios
        function saveProfile() {
            const newName = document.getElementById('edit-name').value;
            const newBio = document.getElementById('edit-bio').value;

            if(newName.trim() !== "") {
                document.getElementById('display-name').innerText = newName;
            }
            document.getElementById('display-bio').innerText = newBio;
            
            if(tempImgData) {
                document.getElementById('display-img').src = tempImgData;
            }

            closeEditModal();
        }
    </script>
</body>
</html>
