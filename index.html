<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Aura | Search Fixed</title>
    <style>
        :root { 
            --bg: #000; --card: #0d0d0d; --border: #1a1a1a; 
            --rainbow: linear-gradient(45deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00c8, #ff0000);
            --accent: #00ffd5;
        }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; }
        
        @keyframes rainbow-move { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

        .view { height: 100vh; display: none; overflow-y: auto; padding-bottom: 100px; box-sizing: border-box; }
        .view.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* HEADER */
        .header { padding: 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 0.5px solid var(--border); background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.8rem; font-weight: 900; background: var(--rainbow); background-size: 400%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: rainbow-move 5s infinite; letter-spacing: -1px; }

        /* BUSCADOR (ZONA NUEVA) */
        .search-container { padding: 20px; }
        .search-input-wrapper { position: relative; margin-bottom: 25px; }
        .search-bar { width: 100%; background: #111; border: 1px solid #222; padding: 15px 15px 15px 45px; border-radius: 18px; color: white; outline: none; transition: 0.3s; box-sizing: border-box; }
        .search-bar:focus { border-color: var(--accent); box-shadow: 0 0 15px rgba(0, 255, 213, 0.1); }
        .search-icon-fixed { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); opacity: 0.5; }

        .user-result { display: flex; align-items: center; gap: 15px; background: var(--card); padding: 12px; border-radius: 20px; border: 1px solid var(--border); margin-bottom: 12px; transition: 0.2s; cursor: pointer; }
        .user-result:active { transform: scale(0.98); background: #151515; }
        .res-avatar { width: 50px; height: 50px; border-radius: 14px; background: var(--rainbow); background-size: 400%; animation: rainbow-move 10s infinite; padding: 2px; }
        .res-avatar div { background: #000; width: 100%; height: 100%; border-radius: 12px; display: flex; align-items: center; justify-content: center; }

        /* NAV Y BOT√ìN X */
        nav { position: fixed; bottom: 20px; left: 20px; right: 20px; height: 70px; background: rgba(15,15,15,0.9); backdrop-filter: blur(20px); border-radius: 30px; border: 1px solid var(--border); display: flex; justify-content: space-around; align-items: center; z-index: 1000; }
        .n-icon { font-size: 1.6rem; opacity: 0.3; cursor: pointer; transition: 0.3s; }
        .n-icon.active { opacity: 1; color: var(--accent); }
        .x-main { width: 60px; height: 60px; background: white; border-radius: 50%; color: black; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; font-weight: 900; transform: translateY(-15px); box-shadow: 0 8px 25px rgba(255,255,255,0.2); cursor: pointer; }

        /* CAMARA */
        #cam-overlay { position: fixed; inset: 0; background: #000; z-index: 5000; display: none; }
        #cam-video { width: 100%; height: 100%; object-fit: cover; pointer-events: none; }
        .close-cam { position: absolute; top: 40px; left: 20px; width: 45px; height: 45px; background: var(--rainbow); background-size: 400%; animation: rainbow-move 5s infinite; padding: 3px; border-radius: 50%; cursor: pointer; z-index: 5100; }
        .close-cam div { background: black; width: 100%; height: 100%; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        #filters-shelf { position: absolute; bottom: 0; width: 100%; background: rgba(10,10,10,0.98); backdrop-filter: blur(25px); border-radius: 35px 35px 0 0; transform: translateY(100%); transition: 0.4s ease; padding: 30px; box-sizing: border-box; z-index: 6000; border-top: 1px solid #333; }
        #filters-shelf.open { transform: translateY(0); }
    </style>
</head>
<body>

    <div id="v-photos" class="view active">
        <div class="header"><div class="logo">AURA</div></div>
        <div style="padding: 100px 20px; text-align: center; opacity: 0.05; font-size: 4rem; font-weight: 900;">FOTOS</div>
    </div>

    <div id="v-search" class="view">
        <div class="header"><div class="logo">EXPLORAR</div></div>
        <div class="search-container">
            <div class="search-input-wrapper">
                <span class="search-icon-fixed">üîç</span>
                <input type="text" class="search-bar" placeholder="Buscar personas en Aura..." oninput="searchUser(this.value)">
            </div>
            
            <div id="search-results">
                <div class="user-result">
                    <div class="res-avatar"><div>üë§</div></div>
                    <div>
                        <b style="display:block;">Aura Oficial</b>
                        <small style="color:gray;">@aura_app</small>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="v-profile" class="view">
        <div style="padding:40px; text-align:center;">
            <div style="width:100px; height:100px; background:var(--rainbow); background-size:400%; animation:rainbow-move 5s infinite; padding:4px; border-radius:24px; margin: 0 auto;">
                <div style="background:black; width:100%; height:100%; border-radius:20px; display:flex; align-items:center; justify-content:center; font-size:2rem;">üë§</div>
            </div>
            <h2 style="margin-top:20px;">@usuario</h2>
            <p style="color:gray;">0 seguidores | 0 siguiendo</p>
        </div>
    </div>

    <div id="cam-overlay">
        <video id="cam-video" autoplay playsinline></video>
        <div class="close-cam" onclick="closeCamera()"><div>‚úï</div></div>
        <div style="position:absolute; bottom:130px; right:25px; width:55px; height:55px; background:var(--rainbow); border-radius:15px; padding:3px; z-index:5100;" onclick="toggleFilters()">
            <div style="background:#111; width:100%; height:100%; border-radius:12px; display:flex; align-items:center; justify-content:center;">‚ú®</div>
        </div>
        <div style="position:absolute; bottom:40px; width:100%; display:flex; justify-content:center; z-index:5100;">
            <div style="width:80px; height:80px; border:5px solid white; border-radius:50%;" onclick="alert('Captura guardada')"></div>
        </div>
        <div id="filters-shelf">
            <div style="display:flex; justify-content:space-between; align-items:center;"><b>Filtros</b><span onclick="toggleFilters()" style="color:var(--accent)">LISTO</span></div>
            <div style="display:grid; grid-template-columns: repeat(3, 1fr); gap:15px; margin-top:20px;">
                <div onclick="applyF('none')">Original</div>
                <div onclick="applyF('grayscale(1)')">B&N</div>
                <div onclick="applyF('hue-rotate(90deg)')">Ne√≥n</div>
            </div>
        </div>
    </div>

    <nav>
        <div class="n-icon active" onclick="showView('v-photos', this)">üñºÔ∏è</div>
        <div class="n-icon" onclick="showView('v-search', this)">üîç</div>
        <div class="x-main" onclick="openCamera()">‚úï</div>
        <div class="n-icon" onclick="alert('Zona Videos')">üé¨</div>
        <div class="n-icon" onclick="showView('v-profile', this)">üë§</div>
    </nav>

    <script>
        let stream = null;

        function showView(id, el) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.querySelectorAll('.n-icon').forEach(n => n.classList.remove('active'));
            if(el) el.classList.add('active');
        }

        async function openCamera() {
            try {
                stream = await navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } });
                document.getElementById('cam-video').srcObject = stream;
                document.getElementById('cam-overlay').style.display = 'block';
            } catch(e) { alert("C√°mara no disponible"); }
        }

        function closeCamera() {
            if(stream) stream.getTracks().forEach(t => t.stop());
            document.getElementById('cam-overlay').style.display = 'none';
        }

        function toggleFilters() { document.getElementById('filters-shelf').classList.toggle('open'); }
        function applyF(val) { document.getElementById('cam-video').style.filter = val; }

        function searchUser(query) {
            const results = document.getElementById('search-results');
            if(query.length > 0) {
                results.innerHTML = `
                    <div class="user-result">
                        <div class="res-avatar"><div>üë§</div></div>
                        <div>
                            <b style="display:block;">Buscando "${query}"...</b>
                            <small style="color:gray;">No se encontraron bots.</small>
                        </div>
                    </div>
                `;
            } else {
                results.innerHTML = `<div class="user-result"><div class="res-avatar"><div>üë§</div></div><div><b>Oficial</b><small>@aura_app</small></div></div>`;
            }
        }
    </script>
</body>
</html>
